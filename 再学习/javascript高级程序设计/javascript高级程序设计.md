## 前言

### 组织结构

1. 介绍JavaScript的起源：从那里来，如果发展，以及现金的状况。这一章会谈到 JavaScript 与 ECMAScript 的关系、DOM、BOM、以及 Ecma 和 W3C 相关的标准。
2. 了解 JavaScript 如何与 HTML 结合来创建动态网页，主要介绍在网页中嵌入 JavaScript 的不同方式，还有 JavaScript 的内容类型及其与 `<script>` 元素的关系。
3. 介绍语言的基本概念，包括语法和流控制语句：解释 Javascript 与其他类C语言在语法上的异同点。在讨论内置操作符是也会谈到强制类型转换。此外还将介绍所有的原始类型，包括 Symbol。
4. 探索 JavaScript 松散类型下的变量处理。这一章将设计原始类型与引用类型的不同，以及与变量有关的执行上下文。此外，这一章也会讨论 JavaScript 中垃圾回收，涉及在变量超出作用域时如何回收内存
5. 谈论 JavaScript 所有内置的引用类型，如 Date, Regexp，原始类型及其包装类型。每种引用类型既有理论上的讲解，也有相关浏览器实现的剖析。
6. 继续讨论内置引用类型，包括 Object、Array、Map、WeakMap、Set 和 WeakSet 等。
7. 介绍 ECMAScript 新版中引入的两个基本概念：迭代器和生成器，并分别讨论它们最基本的行为和在当前语言环境下的应用。
8. 解释如何在 JavaScript 中使用类和面向对象编程。首先会深入讨论 JavaScript 的 Object 类型，进而探讨原型是继承，接下来全面介绍 ES6 类及其与原型式继承的紧密关系。
9. 介绍两个紧密相关的概念： Proxy（代理） 和 Reflect（反射）API。代理和反射用于拦截和修改这门语言的基本操作。
10. 探索 JavaScript 最强大的特性：函数表达式，主要涉及闭包、this 对象、模块模式、创建私有对象成员、箭头函数、默认参数和扩展操作符。
11. 介绍两个紧密相关的异步编程构造：Promise 类型和 async/await。这一章讨论 JavaScript 的异步编程范式，进而介绍期约（promise）与异步函数的关系。
12. 介绍 BOM，即浏览器对象模型，跟与浏览器本身交互的 API 相关。所有 DOM 对象都会涉及，包括 window、document、location、navigator 和 screen 等。
13. 解释检测客户端及其及其能力的不同手段，包括能力检测和用户代理字符串检测。这一章讨论每种手段的优缺点，以及使用的场景。
14. 介绍 DOM，即文档对象模型，主要是 DOM Level 1定义的 API。这一章将简单讨论 XML 及其与 DOM 的关系，进而全面探索 DOM 以及如何利用它操作网页。
15. 解释其他 DOM API,包括浏览器本身对 DOM 的扩展，主要涉及 Selectors API、 Element Traversal API 和 HTML 5 扩展。
16. 在之前两章的基础上，解释 DOM Level 2 和 Level 3 对 DOM 的扩展，包括新增的属性、方法和对象。这一章还会介绍 DOM4 的相关内容，比如 Mutation Observer。
17. 解释事件在 JavaScript 中的本质，以及事件的起源及其在 DOM 中的运行方式。
18. 围绕`<canvas>`标签讨论如何创建动态图形，包括 2D 和 3D 上下文（webGL）等动画和游戏开发所需的基础。这一章还会讨论 WebGL 1 和 WebGL 2。
19. 探索使用 JavaScript 增强表单交互即突破浏览器限制，主要讨论文本框、选择框等表单元素及数据验证和操作。
20. 介绍各种 JavaScript API，包括 Atomics、Encoding、File、Blob、Notifications、Streams、Timing、Web Components 和 Web Cryptography。
21. 讨论浏览器如何处理 JavaSCript 代码中的错误及几种错误处理方式。这一章同时介绍了每种浏览器的调试工具和技术，包括简化调试过程的建议。
22. 介绍通过 JavaScript 读取和操作 XML 数据的特性，解释了不同浏览器支持特性和对象的差异，提供了简化跨浏览器编码的建议。这一章也讨论了使用 XSLT 在客户端转换 XML 数据。
23. 介绍作为 XML 替代的 JSON 数据格式，还讨论了浏览器原生解析和序列化JSON，以及使用 JSON 时要注意的安全问题。
24. 探讨浏览器请求数据和资源的常用方式，包括早期的 XMLHttpRequest 和现代的 Fetch API。
25. 谈论应用程序离线时在客户端机器上存储数据的各种技术。先从 cookie 谈起，然后讨论 Web Storage 和 IndexedDB。
26. 介绍模块模式在编码中的应用，继而讨论 ES6 模块之前的额模块加载方式，包括 CommonJS、AMD 和 UMD,最后介绍新的 ES6模块及其正确用法。
27. 深入介绍专用工作者线程、共享这线程和服务工作者线程。其中包括工作者线程在操作系统和浏览器层面的实现，以及使用各种工作者线程的最佳策略。
28. 探讨在企业级开发中进行 JavaScript 编码的最佳实践。其中提到了提升代码可维护性上编码惯例，包括编码技巧、格式化及通用编码建议。深入讨论应用性能和提升速度的技术。最后介绍与上线部署相关的话题，包括项目构建流程。

大概过了一下这本书的结构，和每一章探讨的内容。

总分总，先概括，再细分，最后再概括，才是好的学习方法。后续会这样进行。

## 第1章 什么是JavaScript

> 介绍 JavaScript 的起源：从哪里来，如何发展，以及现今的状况。这一章会谈到 JavaScript 与 ECMAScript 的关系、DOM、BOM，以及 Ecma 和 W3C 相关的标准

当时网络慢，95年，网景，开发出JavaScript做简单的表单校验

#### JavaScript组成

- ECMAScript
- DOM
- BOM

#### ECMAScript

网景

#### DOM

文档对象模型（DOM）是一个应用编程接口（API），用于在HTML中使用扩展的XML，DOM 将整个页面抽象为一组分层节点。

#### BOM

浏览器对象模型（BOM），用支持访问和操作浏览器的窗口

- 弹出新浏览器窗口
- 移动、缩放和关闭浏览器窗口
- navigator，提供关于浏览器的详尽信息
- location，提供浏览器加载页面的详尽信息
- screen 对象，提供关于用户屏幕分辨率的详尽信息
- performance 对象，提供浏览器内存占用、导航行为和时间统计的详尽信息
- 对 cookie 的支持
- 其他自定义对象，如 XMLHttpRequest 和 IE 的 ActiveXObject

#### 小结

JavaScript是一门用来与网页交互的脚本语言，包含了三个部分

- ECMAScript，核心功能
- 文档对象模型（DOM），提供与网页内容交互的方法与接口
- 浏览器对象模型（BOM），提供与浏览器内容交互的方法与接口

## 第2章 HTML中的JavaScript

> 了解 JavaScript 如何与 HTML 结合来创建动态网页，主要介绍在网页中嵌入 JavaScript 的不同方式，还有 JavaScript 的内容类型及其与 `<script>` 元素的关系。

#### `<script>`元素

8个属性

- async：立即下载脚本，但不能阻止其他页面动作
- charset：XXXX  指定代码字符集，少用（因为大多数浏览器不在乎它的值）

复习到这里的时候，我感觉不能这么详尽的去记录所有的东西，有些东西用不到或者是很少用，干脆记录一些重要的或者是不懂的。

8个属性

- async：立即下载脚本，但不能阻止其他页面动作
- defer：脚本可以延迟到文档完全被解析和显示之后再执行。只对外部脚本文件有效
- src：表示包含要执行的代码的外部文件
- type：表示代码块中脚本语言的内容类型

使用 src 属性的 script 元素，只会加载外部文件，而里面的代码会忽略。

#### 标签位置

script 放在 head 标签内，意味着，必须把所有 JavaScript 代码都下载、解析和解释完成后，才能开始渲染页面（页面在浏览器解析到`<body>`的起始标签时开始渲染），这会导致页面渲染的明显延迟。

所以一般将 JavaScript 引用放在`<body>`元素中的内容后面。

#### 推迟执行脚本

defer 属性，表示脚本在执行的时候不会改变页面的结构。也就是说，脚本会被延迟到整个页面都解析完毕后再执行。立即下载，但延迟执行。

两个 defer 脚本，会按次序执行。

会在 DOMContentLoaded 之前执行，但不一定。

#### 异步执行脚本

async 属性，一样也是立即下载，与 defer 不同的是，标记 async 的脚本并不保证能按照它们出现的次序执行。

会在 load 事件之前执行，可能在 DOMContentLoaded 之前或之后执行。

#### 动态加载脚本

除了 `<script>`，还有其他的动态加载脚本，利用DOM

```
let script = document.createElement('script');
script.src = 'gibberish.js';
document.head.appendChild(script);
```

#### XHTML中的变化

可扩展超文本标记语言（XHTML）是将 HTML 作为 XML 的应用重新包装的结果。

与 HTML 不同的是， XHTML 中使用 JavaScript 会更严格，例如 `<` 变成 `&lt;`

#### 废弃的语法

#### 行内代码与外部文件

推荐使用外部文件，可维护性，缓存，适应未来

#### 文档模式

混杂模式 和 标准模式， 准标准模式

#### `<noscript>`元素

下列情况会显示，

- 浏览器不支持脚本；
- 浏览器对脚本的支持被关闭；

#### 小结

- src 外部文件
- 所有的 script 元素会依照次序被解释
- script 放在 head 会解析完成才会渲染，建议放到 body 内容后面
- defer 立即下载，DOMContentLoaded 之前解析，也有可能延迟，多个 script 会依次下载
- async 立即下载，Load 之前解析，顺序不一致
- noscript 脚本不支持或者关闭的情况下显示

## 第3章 语言基础

这一章才开始为核心部分，讲解javascript的一些底层的语法和解析过程

中间插一句，以后早上想着是看面试题，晚上看书。

> 介绍语言的基本概念，包括语法和流控制语句：解释 Javascript 与其他类C语言在语法上的异同点。在讨论内置操作符是也会谈到强制类型转换。此外还将介绍所有的原始类型，包括 Symbol。

#### 语法

##### 区分大小写

##### 标识符

第一个字符必须是，字母，下划线（_）或美元符号（$）

按照惯例，驼峰大小写形式

##### 注释

单行注释 //

多行注释  /**/

严格模式

”use strict“;

##### 语句

语句以分号结尾。如果省略分号，意味着解析器自行确定语句在哪里结尾。

#### 关键字与保留字

#### 变量

##### var 关键字

- var 声明作用域

  等于在局部定义了一个变量，就意味着该变量在局部退出时销毁。

- var 声明提升

  声明的变量会自动提升到函数作用域顶部

##### let 声明

- 与 var 的区别是，let 的范围是块作用域，而 var 的范围是函数作用域

  if 块，var 了之后，能在快外部使用，而 let ，仅限于该块内部，块作用域是函数作用域的子集。

- 不能重复声明

- 暂时性死区

  不会声明提升，在声明之前使用时，会报错，ReferenceError

- 全局声明

  不会称为window对象的属性

- 条件声明

解决 for 循环中的 var 声明问题；

##### const 声明

声明变量时必须同时初始化变量。不能修改值。

##### var , let , const 的区别

var：重复性声明，声明提前，函数作用域

let: 块作用域，只能声明一次，暂时性死区，不会声明提前

const：块作用域，声明的同时要赋值，不能改变值



## 第4章 变量、作用域与内存

## 第5章 基本引用类型

## 第6章 集合引用类型

## 第7章 迭代器与生成器

## 第8章 对象、类与面向对象编程

## 第9章 代理与发射

## 第10章 函数

## 第11章 期约与异步函数

## 第12章 BOM

## 第13章 客户端检测

## 第14章 DOM

## 第15章 DOM扩展

## 第16章 DOM2和DOM3

## 第17章 事件

## 第18章 动画与Canvas图形

## 第19章 表单脚本

## 第20章 JavaScript API

## 第21章 错误处理与调试

## 第22章 处理XML

## 第23章 JSON

## 第24章 网络请求与远程资源

## 第25章 客户端存储

## 第26章 模块

## 第27章 工作者线程

## 第28章 最佳实践